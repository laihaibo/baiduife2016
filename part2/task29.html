<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>task29</title>
	<script>
		window.onload=function(){
			var content = document.getElementById('content');
			var btn = document.getElementById('btn');
			var info = document.getElementById('info');

			function validate(){
				var con = content.value;
				var lens = countlen(con);
				if (lens==0) {
					info.innerHTML = '姓名不能为空';
				}else if (lens<=16 && lens>=4) {
					info.innerHTML = '名称格式正确'
				}else{
					info.innerHTML = '长度必须为4~16个字符';
				}
			}

			function countlen(str){
				var len = 0;
				for (var i = 0; i < str.length; i++) {
					var charCode = str.charCodeAt(i);
					if (charCode >=0 && charCode <=128) {
						len ++;
					}else{
						len +=2;
					}
				}
				return len;
			}

			btn.addEventListener('click', validate);
	}

	</script>
</head>
<body>
	<div id="container">
		<form action="">
			<label>名称</label>
			<input type="text" id="content" />
			<input type="submit" value="验证" id="btn">
			<p id="info">必填，长度为4~16个字符</p>
		</form>	
	</div>
</body>
</html>